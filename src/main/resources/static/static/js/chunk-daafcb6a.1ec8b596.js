(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-daafcb6a"],{1:function(t,e){},"159f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[i("h4",[t._v("目录")]),i("div",{staticClass:"dir-c"},t._l(t.dirList,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.handleDirClicked(e)}}},[i("el-card",{class:"dir-list "+e.selected},[i("div",{staticClass:"text"},[t._v(" "+t._s(e.path)+" ")])])],1)})),0)]),i("el-col",{attrs:{span:18}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.videoList}},[i("el-table-column",{attrs:{prop:"filename",label:"文件名",align:"center"}}),i("el-table-column",{attrs:{prop:"path",label:"路径",align:"center"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.handleClick(e.row)}}},[t._v("查看")])]}}])})],1)],1)],1),t.dialogVisible?i("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"70%",top:"10","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("media-component-inline",{attrs:{videoSrc:t.videoSrc}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1):t._e()],1)},n=[],l=(i("5319"),i("ac1f"),i("b775"));function o(t){return Object(l["a"])({url:"/getMediaList",method:"get",params:t})}function s(t){return Object(l["a"])({url:"/getDirList",method:"get",params:t})}var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-js"},[i("video",{staticClass:"video-js vjs-default-skin vjs-big-play-centered",staticStyle:{width:"100%",height:"100%"},attrs:{preload:"auto",autoplay:"autoplay","data-setup":"{}"}})])}],d=i("f0e2"),u=(i("fda2"),{name:"mediaComponentInline",components:{},props:{videoSrc:{type:String}},data:function(){return{player:null}},mounted:function(){this.init(this.videoSrc),console.log(this.videoSrc)},beforeDestroy:function(){this.player&&(this.player.dispose(),this.player=null,this.createdom())},watch:{videoSrc:function(t){t&&this.init(t)}},methods:{destroyPlayer:function(){this.player&&(this.player.pause(),this.player.dispose(),this.player=null,this.createdom())},createdom:function(){this.$el.innerHTML="";var t=document.createElement("div");t.innerHTML="<video class='video-js vjs-default-skin vjs-big-play-centered' preload='auto' autoplay='autoplay'      style='width:100%;height:100%' data-setup='{}'/>",this.$el.appendChild(t)},init:function(t){var e=this;t?(this.player&&this.destroyPlayer(),this.player=Object(d["a"])(this.$el.getElementsByTagName("video")[0],{live:!0,autoplay:!1,muted:!1,loop:!1,preload:"auto",techOrder:["html5"],language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{src:t}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0,volumeControl:!0},controls:!0},(function(){e.player.src(t),e.player.play()}))):this.msgError("视频地址无效！")}}}),p=u,h=(i("b726"),i("2877")),f=Object(h["a"])(p,r,c,!1,null,"ccfd977a",null),v=f.exports,m={components:{mediaComponentInline:v},data:function(){return{dirList:[],videoList:[],videoSrc:"",dialogVisible:!1}},mounted:function(){var t=this;s({path:"G:\\BaiduNetdiskDownload"}).then((function(e){t.dirList=e}))},methods:{handleDirClicked:function(t){for(var e=this,i=0;i<this.dirList.length;i++){var a=this.dirList[i];a.selected=""}t.selected="selected",o({path:t.path}).then((function(t){for(var i=0;i<t.length;i++){var a=t[i];a.path=a.path.replace("G:\\BaiduNetdiskDownload","http://192.168.31.27/media")}e.videoList=t}))},handleClick:function(t){console.log(t.path),this.dialogVisible=!0,this.videoSrc=t.path},handleClose:function(){this.dialogVisible=!1}}},y=m,g=(i("9aa6"),Object(h["a"])(y,a,n,!1,null,null,null));e["default"]=g.exports},"214a":function(t,e,i){},"9aa6":function(t,e,i){"use strict";i("f494a")},b726:function(t,e,i){"use strict";i("214a")},f494a:function(t,e,i){}}]);